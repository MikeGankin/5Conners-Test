(self.webpackChunkgulp_builder=self.webpackChunkgulp_builder||[]).push([[984],{984:()=>{!function(){const e="29e80efd31d998cef429cad2ce20f8d52eded84a";ymaps.ready((()=>{const o=[59.994864,30.39907],t={center:o,zoom:13},n={iconLayout:"default#image",iconImageHref:"img/custom-pin.svg",iconImageSize:[27,40],iconImageOffset:[-10,-40]},r=new ymaps.Placemark(o,{},n),s=new ymaps.Placemark(o,{},n),a=new ymaps.Map("map",t),c=new ymaps.Map("map-mobile",t),l=o=>{let t=o.get("coords");r.geometry.setCoordinates(t),s.geometry.setCoordinates(t),(e=>{r.properties.set("iconCaption","поиск..."),ymaps.geocode(e).then((function(e){let o=e.geoObjects.get(0);r.properties.set({iconCaption:[o.getLocalities().length?o.getLocalities():o.getAdministrativeAreas(),o.getThoroughfare()||o.getPremise()].filter(Boolean).join(", "),balloonContent:o.getAddressLine()})}))})(t),((o,t)=>{const n=document.querySelector("#address");let r={lat:o,lon:t},s={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+e},body:JSON.stringify(r)};o&&t&&(async()=>{try{const e=await fetch("https://suggestions.dadata.ru/suggestions/api/4_1/rs/geolocate/address",s),o=await e.json();n.value=o.suggestions[0].value}catch(e){console.log(e)}})()})(t[0],t[1])};a.controls.remove("geolocationControl"),a.controls.remove("searchControl"),a.controls.remove("trafficControl"),a.controls.remove("typeSelector"),a.controls.remove("fullscreenControl"),a.controls.remove("zoomControl"),a.controls.remove("rulerControl"),a.container.getElement().style.width="100%",a.container.fitToViewport(),a.geoObjects.add(r),a.events.add("click",l),c.controls.remove("geolocationControl"),c.controls.remove("searchControl"),c.controls.remove("trafficControl"),c.controls.remove("typeSelector"),c.controls.remove("fullscreenControl"),c.controls.remove("zoomControl"),c.controls.remove("rulerControl"),c.container.getElement().style.width="100%",c.container.fitToViewport(),c.geoObjects.add(s),c.events.add("click",l),$("#address").suggestions({token:e,type:"ADDRESS",onSelect:e=>{("0"===e.data.qc_geo||"1"===e.data.qc_geo)&&(e=>{let o=e.data.geo_lat,t=e.data.geo_lon,n=[];n.push(o,t),r.geometry.setCoordinates(n),s.geometry.setCoordinates(n),a.setCenter(n),a.setZoom(17),c.setCenter(n),c.setZoom(17)})(e)}})}))}()}}]);